<h3>Home</h3>
<h4>Switchboard</h4>
<table class='tg collapse' id="tgHome">
    <tr>
        <td class='label bold'>Output A</td>
        <td class='label bold italic'>~S0~</td>
        <td>
            <label class="switch">
                <input type="checkbox" data-switch="0">
                <span class="slider"></span>
            </label>
        </td>
    </tr>
    <tr>
        <td class='label bold'>Output B</td>
        <td class='label bold italic'>~S1~</td>
        <td>
            <label class="switch">
                <input type="checkbox" data-switch="1">
                <span class="slider"></span>
            </label>
        </td>
    </tr>
    <tr>
        <td class='label bold'>Output C</td>
        <td class='label bold italic'>~S2~</td>
        <td>
            <label class="switch">
                <input type="checkbox" data-switch="2">
                <span class="slider"></span>
            </label>
        </td>
    </tr>
    <tr>
        <td class='label bold'>Output D</td>
        <td class='label bold italic'>~S3~</td>
        <td>
            <label class="switch">
                <input type="checkbox" data-switch="3">
                <span class="slider"></span>
            </label>
        </td>
    </tr>
    <tr>
        <td class='label bold'>Output E</td>
        <td class='label bold italic'>~S4~</td>
        <td>
            <label class="switch">
                <input type="checkbox" data-switch="4">
                <span class="slider"></span>
            </label>
        </td>
    </tr>
    <tr>
        <td class='label bold'>Output F</td>
        <td class='label bold italic'>~S5~</td>
        <td>
            <label class="switch">
                <input type="checkbox" data-switch="5">
                <span class="slider"></span>
            </label>
        </td>
    </tr>
    <tr>
        <td class='label bold'>Output G</td>
        <td class='label bold italic'>~S6~</td>
        <td>
            <label class="switch">
                <input type="checkbox" data-switch="6">
                <span class="slider"></span>
            </label>
        </td>
    </tr>
    <tr>
        <td class='label bold'>Output H</td>
        <td class='label bold italic'>~S7~</td>
        <td>
            <label class="switch">
                <input type="checkbox" data-switch="7">
                <span class="slider"></span>
            </label>
        </td>
    </tr>
</table>

<h4>Web Client</h4>
<table class='tg'>
    <tr>
        <td class='label bold'>Status</td>
        <td class='~S_MQTT~'>~MQTT~</td>
    </tr>
    <tr style="display: ~S_ULINK~;">
        <td class='label bold'>URL</td>
        <td class=''>
            <div class="url-box">
                <a href="~ULINK~" target="_blank" title="RevoSwitch-~SERIAL~ Web Client URL">~ULINK~</a>
            </div>
        </td>
    </tr>
</table>

<script>
    function setCheckbox() {
        var checked = [~O0~,~O1~,~O2~,~O3~,~O4~,~O5~,~O6~,~O7~];
        $("#tgHome input[type='checkbox']").each(function(i, v) {
            //var c = $(v).data('switch');
            //console.log(c);
            if (checked.length == 8 && checked[i]) $(v).attr('checked', 'true'); 
        });
    }

    function dynamicWidth() {
        if ($(window).width() < 700) return;
        
        var listCol1 = $("#tgHome td:nth-child(2n+1)");
        var listCol2 = $("#tgHome td:nth-child(2n)");
        
        var max = function(list) {
            return Math.max.apply(null, list.map(function() {
                return $(this).width();
            }).get());
        }
        
        var set = function(list, max) {
            list.each(function(i, v) { 
                $(v).width(max);
            });
        }
        
        var maxCol1 = max(listCol1);
        var maxCol2 = max(listCol2);
            
        set(listCol1, maxCol1);
        set(listCol2, maxCol2);
    }
    $(window).on("resize", dynamicWidth);
    $(window).on("load", dynamicWidth);
    dynamicWidth();
    setCheckbox();
</script>